<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="647"/>

<div>
<span><div><span style="font-size: 9pt;">day33</span></div><div><span style="font-size: 9pt;"><br/></span></div><div><span style="font-size: 9pt;">angularJs:</span></div><div><span style="font-size: 9pt;">    版本：</span></div><div><span style="font-size: 9pt;">        1.x 上课        angularJs</span></div><div><span style="font-size: 9pt;">        针对 pc端  </span></div><div><span style="font-size: 9pt;">            场景:    后台管理页面，的渲染工作,  angularjs+UI工具(bootstrap,elementUi)+nodejs+mongoDb</span></div><div><span style="font-size: 9pt;">        移动端：配合ionic navtive.js</span></div><div><span style="font-size: 9pt;">        官网：</span><a href="https://angularjs.org/" style="font-size: 9pt;">https://angularjs.org/</a></div><div><span style="font-size: 9pt;">        API：</span><a href="http://www.angularjsapi.cn/" style="font-size: 9pt;">http://www.angularjsapi.cn</a></div><div><span style="font-size: 9pt;">        2.x                angular   全新版本  ts(typescript) js的超集</span></div><div><span style="font-size: 9pt;">            学习曲线：陡峭89,需要时长</span></div><div><span style="font-size: 9pt;">            2.x 对应的路由 router 3.x</span></div><div><span style="font-size: 9pt;">            4.x            angular</span></div><div><span style="font-size: 9pt;">            5.x</span></div><div><span style="font-size: 9pt;">方法：</span></div><div><span style="font-size: 9pt;">    angular.bind(this指向,函数名,参数1,参数n);  返回新函数    修改this指向</span></div><div><span style="font-size: 9pt;">    angular.copy(克隆谁1,克隆谁2,克隆到哪);    数据深拷贝，</span></div><div><span style="font-size: 9pt;">    angular.equals(数据1,数据2，数据n)  返回boolean ,对比数据是否相等</span></div><div><span style="font-size: 9pt;">    angular.forEach(数据,function(value,index){})    对数据遍历</span></div><div><span style="font-size: 9pt;">    angular.isArray/isData/(数据)  判断数据类型  返回true/false</span></div><div><span style="font-size: 9pt;">命名空间:</span></div><div><span style="font-size: 9pt;">    .eleme-xxx{}</span></div><div><span style="font-size: 9pt;">    const WEB={util:{}}</span></div><div><span style="font-size: 9pt;">    WEB.util=</span></div><div><span style="font-size: 9pt;">    vue: v-</span></div><div><span style="font-size: 9pt;">    angular: ng-</span></div><div><span style="font-size: 9pt;">数据：</span></div><div><span style="font-size: 9pt;">    放置数据:    M</span></div><div><span style="font-size: 9pt;">        表单元素： 天生放数据</span></div><div><span style="font-size: 9pt;">        双向绑定: ng-model</span></div><div><span style="font-size: 9pt;">        ng-init=&quot;数据名=值&quot;</span></div><div><span style="font-size: 9pt;">        $scope.数据 = 值</span></div><div><span style="font-size: 9pt;">    展示数据:    V</span></div><div><span style="font-size: 9pt;">        {{数据名.属性}}    模板标记|mustach|插值表达式</span></div><div><span style="font-size: 9pt;">        ng-bind=&quot;数据名&quot;</span></div><div><span style="font-size: 9pt;">        ng-repeat=&quot;(index,value) in arr&quot;   {{value}}/{{index}}</span></div><div><span style="font-size: 9pt;">            注意： track by $index  为了给数组添加相同元素，指定不同的</span></div><div><span style="font-size: 9pt;">            $index  是索引  不是key ~~ index</span></div><div><span style="font-size: 9pt;">            $first / $last / $odd / $even / $middle</span></div><div><span style="font-size: 9pt;">指令:</span></div><div><span style="font-size: 9pt;">    ng-model / ng-bind / ng-app 开启angular应用模式 / ng-init 数据初始化</span></div><div><span style="font-size: 9pt;">    ng-app  开启angularjs应用模式  一个页面只能出现一次</span></div><div><span style="font-size: 9pt;">    ng-model/ng-bind/</span></div><div><span style="font-size: 9pt;">    ng-init=&quot;初始化数据&quot;</span></div><div><span style="font-size: 9pt;">    ng-show=&quot;true/false数据&quot;</span></div><div><span style="font-size: 9pt;">    ng-hide=&quot;true/false&quot;</span></div><div><span style="font-size: 9pt;">    ng-click=&quot;方法名&quot;   ng-mouseover/ng-mouseout/ng-change....</span></div><div><span style="font-size: 9pt;">    ng-value=&quot;数据&quot;  表单值</span></div><div><span style="font-size: 9pt;">    ng-class=&quot;{样式类名1:true,样式类名2:false}&quot;</span></div><div><span style="font-size: 9pt;">    ng-style=&quot;{css属性名:值,xx:oo}&quot;</span></div><div><span style="font-size: 9pt;">    ng-src=&quot;{{数据}}&quot;</span></div><div><span style="font-size: 9pt;">angular特色：</span></div><div><span style="font-size: 9pt;">    双向数据绑定，依赖注入,需要服务器环境</span></div><div><span style="font-size: 9pt;">    依赖注入:  注入的是服务($服务名),函数里面注入了服务参数名是定死的,参数顺序无关</span></div><div><span style="font-size: 9pt;">模块：</span></div><div><span style="font-size: 9pt;">    创建模块:    模块对象=angular.module('模块名',['依赖模块1',2,3],配置函数);</span></div><div><span style="font-size: 9pt;">        挂载： 模块名 用给整个页面的 ng-app=&quot;模块名&quot;</span></div><div><span style="font-size: 9pt;">控制器:</span></div><div><span style="font-size: 9pt;">    定义：</span></div><div><span style="font-size: 9pt;">    模块对象.controller('控制器名',function($scope){</span></div><div><span style="font-size: 9pt;">        //控制器的配置函数</span></div><div><span style="font-size: 9pt;">        $scope.数据名=值    数据初始化在这里</span></div><div><span style="font-size: 9pt;">    })</span></div><div><span style="font-size: 9pt;">    使用：&lt;xx ng-controller=&quot;控制器名&quot;&gt;内容&lt;/xx&gt;</span></div><div><span style="font-size: 9pt;">    a) 控制器 ，默认会继承父级的数据  </span></div><div><span style="font-size: 9pt;">    b) 控制器传递数据 子-&gt;父</span></div><div><span style="font-size: 9pt;">        子：$scope.$emit('自定义事件名',数据);</span></div><div><span style="font-size: 9pt;">        父：$scope.$on('自定义事件名',function(event,data){event=事件对象,data=数据})</span></div><div><span style="font-size: 9pt;">    c) 父-&gt;子</span></div><div><span style="font-size: 9pt;">        $scope.$broadcast('自定义数据名',数据); 广播</span></div><div><span style="font-size: 9pt;">        接受：$scope.$on('自定义数据名',function()....)</span></div><div><span style="font-size: 9pt;">过滤器:</span></div><div><span style="font-size: 9pt;">    自带:</span></div><div><span style="font-size: 9pt;">        使用:    </span></div><div><span style="font-size: 9pt;">            a)    {{数据 | 过滤器名: 参数1 : 参数2 }}  在模板使用</span></div><div><span style="font-size: 9pt;">                参数 string / arr / fn</span></div><div><span style="font-size: 9pt;">            b)  控制器使用     服务</span></div><div><span style="font-size: 9pt;">        data:'yyyy-MM-dd hh:mm:ss EEEE a' 时间</span></div><div><span style="font-size: 9pt;">        filter:'关键字'  关键字</span></div><div><span style="font-size: 9pt;">        limitTo:start:len   条数</span></div><div><span style="font-size: 9pt;">        number:数字  转换千分位</span></div><div><span style="font-size: 9pt;">        orderBy  排序 默认升    orderBy: 关键字 : true        </span></div><div><span style="font-size: 9pt;">            orderBy: 空字符或者数字 : true降false升   字母首字母  </span></div><div><span style="font-size: 9pt;">            orderBy: 'price': false</span></div><div><span style="font-size: 9pt;">            关键字: string / arr / fn</span></div><div><span style="font-size: 9pt;">        uppercase</span></div><div><span style="font-size: 9pt;">        lowercase</span></div><div><span style="font-size: 9pt;">-----------------------------------以下为新内容---------------------------------------------</span></div><div><span style="font-size: 9pt;">    自定义：</span></div><div><span style="font-size: 9pt;">        模块.filter('过滤器名称',定义函数(){</span></div><div><span style="font-size: 9pt;">          return function(数据,参数1,参数2){//过滤器名称需要调用的函数</span></div><div><span style="font-size: 9pt;">            return 修改后的数据</span></div><div><span style="font-size: 9pt;">          }</span></div><div><span style="font-size: 9pt;">        })</span></div><div><span style="font-size: 9pt;">        {{数据 | 过滤器名称:'参数1':'参数2'}}</span></div><div><span style="font-size: 9pt;">自定义指令: (组件)</span></div><div><span style="font-size: 9pt;">    定义：</span></div><div><span style="font-size: 9pt;">        模块.directive('指令名小驼峰',定义函数(){</span></div><div><span style="font-size: 9pt;">            return function(scope,element,attr){</span></div><div><span style="font-size: 9pt;">                angular可以操作dom地方</span></div><div><span style="font-size: 9pt;">                scope == $scope</span></div><div><span style="font-size: 9pt;">                element == 使用指令所在的dom元素，是个JQlite对象 ~~ angular.element</span></div><div><span style="font-size: 9pt;">                attr == 使用指令所在的dom元素,所有dom属性的集合</span></div><div><span style="font-size: 9pt;">            }</span></div><div><span style="font-size: 9pt;">            return {</span></div><div><span style="font-size: 9pt;">                link: function(scope,element,attr){...}</span></div><div><span style="font-size: 9pt;">                template:'字符模板',        推荐，有根元素</span></div><div><span style="font-size: 9pt;">                templateUrl:'模板id,模板文件名'  推荐，有根元素</span></div><div><span style="font-size: 9pt;">                transclude: true  是否插入内容到模板</span></div><div><span style="font-size: 9pt;">                    模板配合： &lt;ng-transclude&gt;&lt;/...&gt; | &lt;xx ng-translude&gt;&lt;/..&gt;</span></div><div><span style="font-size: 9pt;">                replace:true //替换指令所在的dom</span></div><div><span style="font-size: 9pt;">                restrict:'ECMA' 规定了指令的调用方式</span></div><div><span style="font-size: 9pt;">                    E: element A: attribute C: css M: comment注释(配合替换replace)</span></div><div><span style="font-size: 9pt;">                controller:function($scope){}</span></div><div><span style="font-size: 9pt;">                scope:{} //隔离指令作用域，给每个指令（组件）生成一个存储容器</span></div><div><span style="font-size: 9pt;">            }</span></div><div><span style="font-size: 9pt;">        })</span></div><div><span style="font-size: 9pt;">    使用：</span></div><div><span style="font-size: 9pt;">    &lt;div ng-指令名&gt;&lt;/..&gt;</span></div><div><span style="font-size: 9pt;">    &lt;ng-指令名&gt;&lt;/..&gt;</span></div><div><span style="font-size: 9pt;">    ..</span></div><div><span style="font-size: 9pt;">    ..</span></div><div><span style="font-size: 9pt;">脏检查：</span></div><div><span style="font-size: 9pt;">    原因：没有使用绑定到$scope上的方法，修改了$scope的数据，视图不会更新</span></div><div><span style="font-size: 9pt;">    解决：需要数据同步</span></div><div><span style="font-size: 9pt;">        原生方式修改  -&gt; $scope.$apply();</span></div><div><span style="font-size: 9pt;">        $scope.$apply(function(){原生方式修改数据})</span></div><div><span style="font-size: 9pt;">服务: 通用业务逻辑，注入到控制器的</span></div><div><span style="font-size: 9pt;">    自带服务：</span></div><div><span style="font-size: 9pt;">        timer = $timeout(fn,delay)</span></div><div><span style="font-size: 9pt;">        timer = $interval(fn,delay)</span></div><div><span style="font-size: 9pt;">        $interval.cancel(timer);    清除</span></div><div><span style="font-size: 9pt;">        $timeout.cancel(timer);</span></div><div><span style="font-size: 9pt;">        $filter 过滤器</span></div><div><span style="font-size: 9pt;">            $filter('过滤器名orderBy')(数据,参数,排序)</span></div><div><span style="font-size: 9pt;">        $sce  负责拒绝一些不安全的行为</span></div><div><span style="font-size: 9pt;">            $sce.trustAsHtml('数据里面放的是html'); 允许数据非转义输出</span></div><div><span style="font-size: 9pt;">            ng-bind-html=&quot;数据&quot;    输出html</span></div><div><span style="font-size: 9pt;">            $sce.trustAsResourceUrl(str)  允许url地址请求数据源</span></div><div><span style="font-size: 9pt;">            $sce.trustAsUrl(str)  允许url地址请求</span></div><div><span style="font-size: 9pt;">            $sce.trustAsCss(css代码)  允许css代码数据</span></div><div><span style="font-size: 9pt;">            $sce.trustAsJs(js代码)  ...</span></div><div><span style="font-size: 9pt;">        $cacheFactory 缓存</span></div><div><span style="font-size: 9pt;">            得到一个缓存实例，用id来区分，比如我想取id为’store’的缓存</span></div><div><span style="font-size: 9pt;">            var store = $cacheFactory('store');</span></div><div><span style="font-size: 9pt;">            store.put('bLoading',{}})    添加键值对</span></div><div><span style="font-size: 9pt;">            store.get('bLoading') 获取键</span></div><div><span style="font-size: 9pt;">            store.remove('bLoading') 删除key</span></div><div><span style="font-size: 9pt;">            store.removeAll() 清除缓存服务里面所有的键</span></div><div><span style="font-size: 9pt;">            store.destroy()    删除该缓存实例</span></div><div><span style="font-size: 9pt;">        $http  发送http请求的通用业务服务        数据交互</span></div><div><span style="font-size: 9pt;">            $http({配置参数}).then(succFn,errorFn)</span></div><div><span style="font-size: 9pt;">            配置参数：</span></div><div><span style="font-size: 9pt;">                url: 地址</span></div><div><span style="font-size: 9pt;">                method:get/post</span></div><div><span style="font-size: 9pt;">                params:{key:value}  get请求携带数据</span></div><div><span style="font-size: 9pt;">                data:'a:1&amp;b=2' post请求携带的数据</span></div><div><span style="font-size: 9pt;">                headers:{key:value} post需要带请求头</span></div><div><span style="font-size: 9pt;">                cache:true 请求一次,后续F12 network 无法触发的 ，then会执行</span></div><div><span style="font-size: 9pt;">            $http.jsonp(url,{配置参数}).then(succFn,errorFn)</span></div><div><span style="font-size: 9pt;">                注意：url 需要 安全许可 url  $sce.trustAsResourceUrl(url)</span></div></span>
</div></body></html> 