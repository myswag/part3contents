<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="323"/>

<div>
<span><div><span style="font-size: 9pt;">day03</span></div><div><span style="font-size: 9pt;"><br/></span></div><div><span style="font-size: 9pt;">复习：</span></div><div><span style="font-size: 9pt;">    canvas:</span></div><div><span style="font-size: 9pt;">        做：画图，游戏，特效</span></div><div><span style="font-size: 9pt;">        canvas:是个标签,提供了画布,画图要依赖画笔对象</span></div><div><span style="font-size: 9pt;">    特点：没事件系统，位图,画布的尺寸DOM属性</span></div><div><span style="font-size: 9pt;">    类似：svg 有事件系统 矢量图</span></div><div><span style="font-size: 9pt;">        画笔：</span></div><div><span style="font-size: 9pt;">            属性：</span></div><div><span style="font-size: 9pt;">                strokeStyle='red|rgb|rgba'</span></div><div><span style="font-size: 9pt;">                fillStyle='..'</span></div><div><span style="font-size: 9pt;">                lineWidth=number</span></div><div><span style="font-size: 9pt;">                font='大小 字体'</span></div><div><span style="font-size: 9pt;">                textAlign=left|center|right</span></div><div><span style="font-size: 9pt;">                textBaseline=top|middle|bottom</span></div><div><span style="font-size: 9pt;">            方法:</span></div><div><span style="font-size: 9pt;">                moveTo(x,y)  路径</span></div><div><span style="font-size: 9pt;">                lineTo(x,y)        路径</span></div><div><span style="font-size: 9pt;">                stroke() 描边</span></div><div><span style="font-size: 9pt;">                fill() 填充</span></div><div><span style="font-size: 9pt;">                beginPath() 开启新路径</span></div><div><span style="font-size: 9pt;">                closePath()</span></div><div><span style="font-size: 9pt;">                strokeRect(x,y,w,h)</span></div><div><span style="font-size: 9pt;">                fillRect(x,y,w,h)</span></div><div><span style="font-size: 9pt;">                clearRect(x,y,w,h)</span></div><div><span style="font-size: 9pt;">                arc(cx,cy,r,start,end,false)</span></div><div><span style="font-size: 9pt;">                strokeText(string,x,y)</span></div><div><span style="font-size: 9pt;">                fillText(string,x,y)</span></div><div><span style="font-size: 9pt;">        绘图流程:</span></div><div><span style="font-size: 9pt;">            1    配置画笔(形变,线性粗细，颜色)</span></div><div><span style="font-size: 9pt;">            2    绘制</span></div><div><span style="font-size: 9pt;">            3    着色(填充,描边)</span></div><div><span style="font-size: 9pt;">    动画：</span></div><div><span style="font-size: 9pt;">        setInterval(绘图流程,高帧频1000/60)</span></div><div><span style="font-size: 9pt;">属性：</span></div><div><span style="font-size: 9pt;">        o2d.strokeStyle='red|#ccc|rgb()|rgba(255,34,24,1)';描边色</span></div><div><span style="font-size: 9pt;">         o2d.fillStyle='blue';填充色</span></div><div><span style="font-size: 9pt;">          o2d.lineWidth=10;线条粗细</span></div><div><span style="font-size: 9pt;">          o2d.font='字体大小 字体' 字体参数不可以省略 截止2017-9-19</span></div><div><span style="font-size: 9pt;">          o2d.textAlign='left|center|right' 水平   left默认</span></div><div><span style="font-size: 9pt;">          o2d.textBaseline='top|middle|bottom' 垂直</span></div><div><span style="font-size: 9pt;">          o2d.lineCap='butt' round square 端点样式</span></div><div><span style="font-size: 9pt;">          o2d.lineJoin='miter';//bevel 斜切 round  接洽点样式</span></div><div><span style="font-size: 9pt;">          o2d.shadowOffsetX=number x 方向偏移</span></div><div><span style="font-size: 9pt;">          o2d.shadowOffsetY=number x 方向偏移</span></div><div><span style="font-size: 9pt;">          o2d.shadowBlur=number 模糊、失焦、扩散</span></div><div><span style="font-size: 9pt;">          o2d.shadowColor='blue/#xxxxx/rgb/rgba'</span></div><div><span style="font-size: 9pt;">    方法：</span></div><div><span style="font-size: 9pt;">        o2d.moveTo(x,y) 移动到</span></div><div><span style="font-size: 9pt;">        o2d.lineTo(x,y) 连线到</span></div><div><span style="font-size: 9pt;">        o2d.closePath();闭合路径  绘制在最后一笔</span></div><div><span style="font-size: 9pt;">        o2d.fill() 填充  使用fillStyle的颜色，默认是黑色</span></div><div><span style="font-size: 9pt;">        o2d.stroke() 描边 使用strokeStyle的颜色，默认是黑色</span></div><div><span style="font-size: 9pt;">        o2d.beginPath();    开启新路径</span></div><div><span style="font-size: 9pt;">        o2d.strokeRect(x,y,w,h) 描边矩形 绘制的是图形</span></div><div><span style="font-size: 9pt;">        o2d.fillRect(x,y,w,h) 填充矩形    绘制的是图形</span></div><div><span style="font-size: 9pt;">        o2d.rect(x,y,w,h) 路径矩形 需要描边才看的到</span></div><div><span style="font-size: 9pt;">        o2d.clearRect(x,y,w,h) 擦除操作     擦除整个画布 √</span></div><div><span style="font-size: 9pt;">        o2d.arc(cx,cy,r,start,end,false); 路径  start=开始弧度 false 是否顺逆 是个路径</span></div><div><span style="font-size: 9pt;">        o2d.fillText(string,x,y) 填充文字</span></div><div><span style="font-size: 9pt;">        o2d.strokeText(string,x,y) 描边文字</span></div><div><span style="font-size: 9pt;">        gd.measureText('九叔').width  返回文字宽</span></div><div><span style="font-size: 9pt;">        o2d.isPointInPath(x,y) 返回 true/false</span></div><div><span style="font-size: 9pt;">        o2d.translate(x,y) 平移</span></div><div><span style="font-size: 9pt;">        o2d.rotate(弧度值) 旋转</span></div><div><span style="font-size: 9pt;">        o2d.scale(x,y)  默认1  必须两个值都要写2017-8-15</span></div><div><span style="font-size: 9pt;">        o2d.save() 保存当前画笔状态</span></div><div><span style="font-size: 9pt;">        o2d.restore() 回复上一次保存的画笔状态</span></div><div><span style="font-size: 9pt;">        linear=o2d.createLinearGradient(x1,y1,x2,y2) 线性渐变 返回字符颜色值</span></div><div><span style="font-size: 9pt;">                x/y规定是两个点位置、方向</span></div><div><span style="font-size: 9pt;">                x1&lt;x2 左-&gt;    x1&gt;x2 &lt;-右</span></div><div><span style="font-size: 9pt;">        linear.addColorStop(比例位置,颜色) 比例位置0-1 添加1个颜色位</span></div><div><span style="font-size: 9pt;">        o2d.createRadialGradient(x1,y1,r1,x2,y2,r2) 线性渐变 返回字符颜色值</span></div><div><span style="font-size: 9pt;">                x/y规定是两个点位置</span></div><div><span style="font-size: 9pt;">        oC.toDataURL('类型') image/png image/jpeg image/gif     canvas 导出 图</span></div><div><span style="font-size: 9pt;">        o2d.createPattern(图片对象,平铺方式) 返回二进制颜色值 参数都是必选  </span></div><div><span style="font-size: 9pt;">        gd.drawImage(图片对象,x,y)  x y 绘制到的画布位置</span></div><div><span style="font-size: 9pt;">        gd.drawImage(图片对象,x,y,w,h)  w h  绘制多大</span></div><div><span style="font-size: 9pt;">        gd.drawImage(图片对象,sx,sy,sw,sh,dx,dy,dw,dh)  w h  绘制多大</span></div><div><span style="font-size: 9pt;">新课：</span></div><div><span style="font-size: 9pt;">    事件：</span></div><div><span style="font-size: 9pt;">        canvas画布，一堆像素点</span></div><div><span style="font-size: 9pt;">        canvas.事件=fn  </span></div><div><span style="font-size: 9pt;">        检测：</span></div><div><span style="font-size: 9pt;">            1：手动检测</span></div><div><span style="font-size: 9pt;">                ev.clientX&gt;x &amp;&amp; ev.clientX&lt;x+w &amp;&amp; ev.clientY&gt;y &amp;&amp; ev.clientY&lt;y+h  矩形</span></div><div><span style="font-size: 9pt;">                a=cx-ev.clientX-&gt;b=cy-ev.clientY-&gt;c=Math.sqrt(a*a+b*b)-&gt;c&lt;r   圆形</span></div><div><span style="font-size: 9pt;">            2: 画笔自动检测</span></div><div><span style="font-size: 9pt;">                o2d.isPointInPath(x,y) 返回 true/false  要求路径检测</span></div><div><span style="font-size: 9pt;">    形变:  都是累加的</span></div><div><span style="font-size: 9pt;">        平移：translate</span></div><div><span style="font-size: 9pt;">        旋转：rotate 绘制到画布左上角-w/2-&gt;旋转-&gt;平移x+w/2</span></div><div><span style="font-size: 9pt;">        缩放: scale  绘制到画布左上角-w/2-&gt;缩放-&gt;平移x+w/2</span></div><div><span style="font-size: 9pt;">    渐变：</span></div><div><span style="font-size: 9pt;">    线性：</span></div><div><span style="font-size: 9pt;">        “2”个点之间过渡,至少需要两个颜色</span></div><div><span style="font-size: 9pt;">        需求：跳变，一个颜色的结束位置，是另一个颜色的开始位置,在同一个位置</span></div><div><span style="font-size: 9pt;">        变形操作，会影响到渐变位置，比如旋转其实绘制在左上角</span></div><div><span style="font-size: 9pt;">    径向渐变：</span></div><div><span style="font-size: 9pt;">        “两”个圆(内圆到外圆)的过渡，圆心必须要重合</span></div><div><span style="font-size: 9pt;">        内圆 半径会影响颜色位  默认给个0</span></div><div><span style="font-size: 9pt;">        外圆 半径 表示渐变的长度</span></div><div><span style="font-size: 9pt;">图片绘制：（画笔状态）    </span></div><div><span style="font-size: 9pt;">    gd.drawImage(图片对象,sx,sy,sw,sh,dx,dy,dw,dh)  </span></div><div><span style="font-size: 9pt;">        s = source 原图    位置 宽高</span></div><div><span style="font-size: 9pt;">        d = destination 目标（画布）画在哪，画多大</span></div><div><span style="font-size: 9pt;">------------------------------------------------------------------------</span></div><div><span style="font-size: 9pt;">    作业：</span></div><div><span style="font-size: 9pt;">        一个画布， 做一个矩形自中心旋转, + 圆的自中心缩放 动画</span></div><div><span style="font-size: 9pt;">        </span></div><div><br style="font-size: 9pt;"/></div></span>
</div></body></html> 