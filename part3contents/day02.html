<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="323"/>

<div>
<span><div><span style="font-size: 9pt;">day02笔记</span></div><div><span style="font-size: 9pt;"><br/></span></div><div><span style="font-size: 9pt;">canvas:            </span></div><div><span style="font-size: 9pt;">    干嘛的：画图的</span></div><div><span style="font-size: 9pt;">    目标： 做效果、画图表（柱状图，饼图..)、小游戏</span></div><div><span style="font-size: 9pt;">    特点： 没有事件系统,绘制出来的是位图</span></div><div><span style="font-size: 9pt;">    类似： svg -&gt; hchars        canvas -&gt; echarts</span></div><div><span style="font-size: 9pt;">            场景 -&gt; 地图        场景-&gt; 游戏</span></div><div><span style="font-size: 9pt;">           svg -&gt; 有事件系统 ， 绘制出来的是矢量图</span></div><div><span style="font-size: 9pt;">canvas: 是个标签、天生透明、提供画布、绘制靠js、宽高需要DOM属性来指定</span></div><div><span style="font-size: 9pt;">    兼容： IE9+</span></div><div><span style="font-size: 9pt;">画笔：</span></div><div><span style="font-size: 9pt;">    oC=document.querySo...('c1')  画布</span></div><div><span style="font-size: 9pt;">    o2d = canvas.getContext('2d');    CanvasRenderingContext2D 对象</span></div><div><span style="font-size: 9pt;">    o2d==画笔 、特点：所有和绘制相关属性、方法、都在画笔o2d身上</span></div><div><span style="font-size: 9pt;">    属性：</span></div><div><span style="font-size: 9pt;">        o2d.strokeStyle='red|#ccc|rgb()|rgba(255,34,24,1)';描边色</span></div><div><span style="font-size: 9pt;">         o2d.fillStyle='blue';填充色</span></div><div><span style="font-size: 9pt;">          o2d.lineWidth=10;线条粗细</span></div><div><span style="font-size: 9pt;">          o2d.font='字体大小 字体' 字体参数不可以省略 截止2017-9-19</span></div><div><span style="font-size: 9pt;">          o2d.textAlign='left|center|right' 水平   left默认</span></div><div><span style="font-size: 9pt;">          o2d.textBaseline='top|middle|bottom' 垂直</span></div><div><span style="font-size: 9pt;">          o2d.lineCap='butt' round square 端点样式</span></div><div><span style="font-size: 9pt;">          o2d.lineJoin='miter';//bevel 斜切 round  接洽点样式</span></div><div><span style="font-size: 9pt;">          o2d.shadowOffsetX=number x 方向偏移</span></div><div><span style="font-size: 9pt;">          o2d.shadowOffsetY=number x 方向偏移</span></div><div><span style="font-size: 9pt;">          o2d.shadowBlur=number 模糊、失焦、扩散</span></div><div><span style="font-size: 9pt;">          o2d.shadowColor='blue/#xxxxx/rgb/rgba'</span></div><div><span style="font-size: 9pt;">    方法：</span></div><div><span style="font-size: 9pt;">        o2d.moveTo(x,y) 移动到</span></div><div><span style="font-size: 9pt;">        o2d.lineTo(x,y) 连线到</span></div><div><span style="font-size: 9pt;">        o2d.closePath();闭合路径  绘制在最后一笔</span></div><div><span style="font-size: 9pt;">        o2d.fill() 填充  使用fillStyle的颜色，默认是黑色</span></div><div><span style="font-size: 9pt;">        o2d.stroke() 描边 使用strokeStyle的颜色，默认是黑色</span></div><div><span style="font-size: 9pt;">        o2d.beginPath();    开启新路径</span></div><div><span style="font-size: 9pt;">        o2d.strokeRect(x,y,w,h) 描边矩形 绘制的是图形</span></div><div><span style="font-size: 9pt;">        o2d.fillRect(x,y,w,h) 填充矩形    绘制的是图形</span></div><div><span style="font-size: 9pt;">        o2d.clearRect(x,y,w,h) 擦除操作     擦除整个画布 √</span></div><div><span style="font-size: 9pt;">        o2d.arc(cx,cy,r,start,end,false); 路径  start=开始弧度 false 是否顺逆 是个路径</span></div><div><span style="font-size: 9pt;">        o2d.fillText(string,x,y) 填充文字</span></div><div><span style="font-size: 9pt;">        o2d.strokeText(string,x,y) 描边文字</span></div><div><span style="font-size: 9pt;">        gd.measureText('九叔').width  返回文字宽</span></div><div><span style="font-size: 9pt;">        o2d.isPointInPath(x,y) 返回 true/false</span></div><div><span style="font-size: 9pt;">        o2d.save() 保存当前画笔状态</span></div><div><span style="font-size: 9pt;">        o2d.restore() 回复上一次保存的画笔状态</span></div><div><span style="font-size: 9pt;">        o2d.translate(x,y) 平移</span></div><div><span style="font-size: 9pt;">        o2d.rotate(弧度值) 旋转</span></div><div><span style="font-size: 9pt;">        o2d.scale(x,y)  默认1  必须两个值都要写2017-8-15</span></div><div><span style="font-size: 9pt;">        o2d.rect(x,y,w,h) 路径矩形 需要描边才看的到</span></div><div><span style="font-size: 9pt;">    绘制流程</span></div><div><span style="font-size: 9pt;">        选色、线条样式、-&gt; 配置画笔</span></div><div><span style="font-size: 9pt;">        beginPath</span></div><div><span style="font-size: 9pt;">        moveTo/lineTo/...     -&gt; 画图</span></div><div><span style="font-size: 9pt;">        closePath</span></div><div><span style="font-size: 9pt;">        fill/stroke -&gt; 填充、描边 -&gt; 着色</span></div><div><span style="font-size: 9pt;">setInterval(fn,30)</span></div><div><span style="font-size: 9pt;">timer = requestAnimationFrame(fn)    1000/60   60FPS  16~17</span></div><div><span style="font-size: 9pt;">function fn(){  //</span></div><div><span style="font-size: 9pt;">    if(条件){1000/60  1000/120</span></div><div><span style="font-size: 9pt;">        obj.style.left = obj.offsetLeft + 1;</span></div><div><span style="font-size: 9pt;">        cancelAnimationFrame(timer)  取消动画</span></div><div><span style="font-size: 9pt;">    }</span></div><div><span style="font-size: 9pt;">    fn();</span></div><div><span style="font-size: 9pt;">}</span></div><div><span style="font-size: 9pt;">------------------------------------------------------------------------</span></div><div><span style="font-size: 9pt;">动画    定时器(setInterval,requestAnimationFrame)</span></div><div><span style="font-size: 9pt;">    思想:    定时器-&gt;绘制-&gt;修改坐标</span></div><div><span style="font-size: 9pt;">    帧频：</span></div><div><span style="font-size: 9pt;">        低： 30     DOM渲染</span></div><div><span style="font-size: 9pt;">        高:  16~17   1000/60     60fps  canvas渲染</span></div><div><span style="font-size: 9pt;">效果：</span></div><div><span style="font-size: 9pt;">        分析：线在动(点构成)-&gt;点(需要数据)在动    [{},{x,y,speedX,speedY},{}]</span></div><div><span style="font-size: 9pt;">        运动：定时器-&gt;画点-&gt;点.速度(数据取)-&gt;连线-&gt;边缘碰撞检测</span></div><div><span style="font-size: 9pt;">        拖尾：oldArr 控制length oldArr.push(aPoint)    [[{},{x,y,speedX,speedY},{}],[],[]]</span></div><div><span style="font-size: 9pt;">----------------------------</span></div><div><span style="font-size: 9pt;">文字:</span></div><div><span style="font-size: 9pt;">        默认对齐方式，靠左，靠下（文本基线)</span></div><div><span style="font-size: 9pt;">------------------------------------------------------------------------</span></div><div><span style="font-size: 9pt;">作业：</span></div><div><span style="font-size: 9pt;">    屏保完善: 加色变 | 形变</span></div><div><span style="font-size: 9pt;">    弧版时钟：添加打底弧</span></div><div><span style="font-size: 9pt;">    绘制：唐老鼠|米老丫|叮当猫</span></div><div><span style="font-size: 9pt;">        找图片-&gt;AI-&gt;json-&gt;</span></div></span>
</div></body></html> 